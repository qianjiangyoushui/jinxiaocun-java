<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Fhdj">
	
	<!-- 缓存条数 -->
	<cache size="2000" />
	
	<!-- 条件语句 -->
	<sql id="WhereSQL">
		<where>
			<if test="guid != null and guid != ''"> 
			AND T.GUID = #{guid} 
			</if>
			<if test="createtime != null and createtime != ''"> 
			AND T.CREATETIME = #{createtime} 
			</if>
			<if test="amount != null and amount != ''"> 
			AND T.AMOUNT = #{amount} 
			</if>
			<if test="sum != null and sum != ''"> 
			AND T.SUM = #{sum} 
			</if>
			<if test="pcid != null and pcid != ''"> 
			AND T.PCID = #{pcid} 
			</if>
			<if test="del != null and del != ''"> 
			AND T.DEL = #{del} 
			</if>
			<if test="lastupdatetime != null and lastupdatetime != ''"> 
			AND T.LASTUPDATETIME = #{lastupdatetime} 
			</if>
			<if test="operateid != null and operateid != ''"> 
			AND T.OPERATEID = #{operateid} 
			</if>
		</where>
	</sql>
	
	<!-- 查找语句 -->
	<select id="find" resultType="Fhdj" parameterType="Fhdj" flushCache="false" useCache="true">
    	SELECT 
	    	T.GUID AS guid, 
	    	T.CREATETIME AS createtime, 
	    	T.AMOUNT AS amount, 
	    	T.SUM AS sum, 
	    	T.PCID AS pcid, 
	    	T.DEL AS del, 
	    	T.LASTUPDATETIME AS lastupdatetime, 
	    	T.OPERATEID AS operateid 
    	FROM fhdj T
		<include refid="WhereSQL" />
		order by createtime desc
	</select>
	
	<!-- 获取总记录数语句 -->
	<select id="findCount" resultType="java.lang.Integer" parameterType="Fhdj" flushCache="false" useCache="true">
    	SELECT COUNT(*)  FROM fhdj T
		<include refid="WhereSQL" />
	</select>
	
	<!-- 插入语句 -->
	<insert id="insert" parameterType="Fhdj" flushCache="true"> 
		INSERT INTO fhdj
		(
			GUID, 
			CREATETIME, 
			AMOUNT, 
			SUM, 
			PCID, 
			DEL, 
			LASTUPDATETIME, 
			OPERATEID 
		 ) 
		VALUES
		(
			#{guid,jdbcType=VARCHAR}, 
			#{createtime,jdbcType=DATE}, 
			#{amount,jdbcType=VARCHAR}, 
			#{sum,jdbcType=VARCHAR}, 
			#{pcid,jdbcType=VARCHAR}, 
			#{del,jdbcType=VARCHAR}, 
			#{lastupdatetime,jdbcType=DATE}, 
			#{operateid,jdbcType=VARCHAR} 
		) 
	</insert>
	
	<!-- 更新语句 -->
	<update id="update"  parameterType="Fhdj" flushCache="true"> 
		update fhdj 
		<set> 
			<if test="guid != null">GUID=#{guid},</if>
			<if test="createtime != null">CREATETIME=#{createtime},</if>
			<if test="amount != null">AMOUNT=#{amount},</if>
			<if test="sum != null">SUM=#{sum},</if>
			<if test="pcid != null">PCID=#{pcid},</if>
			<if test="del != null">DEL=#{del},</if>
			<if test="lastupdatetime != null">LASTUPDATETIME=#{lastupdatetime},</if>
			<if test="operateid != null">OPERATEID=#{operateid},</if>
		</set>
		WHERE GUID = #{guid}
	</update> 
	
	<!-- 单选删除语句 -->
	<delete id="delete" parameterType="Fhdj" flushCache="true"> 
		DELETE FROM fhdj WHERE GUID = #{guid}
	</delete>
	
	<!-- 多选删除 -->
	<delete id="mulDel" parameterType="java.lang.String" flushCache="true">
		DELETE FROM fhdj WHERE GUID IN
		<foreach item="id" collection="array" open="(" separator="," close=")"> 
			#{id}
		</foreach> 
	</delete>
</mapper>
