<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Payrecord">
	
	<!-- 缓存条数 -->
	<cache size="2000" />
	
	<!-- 条件语句 -->
	<sql id="WhereSQL">
		<where>
			<if test="guid != null and guid != ''"> 
			AND T.GUID = #{guid} 
			</if>
			<if test="projectid != null and projectid != ''"> 
			AND T.PROJECTID = #{projectid} 
			</if>
			<if test="paydate != null and paydate != ''"> 
			AND T.PAYDATE = #{paydate} 
			</if>
			<if test="amount != null and amount != ''"> 
			AND T.AMOUNT = #{amount} 
			</if>
			<if test="paytype != null and paytype != ''"> 
			AND T.PAYTYPE = #{paytype} 
			</if>
			<if test="paystyle != null and paystyle != ''"> 
			AND T.PAYSTYLE = #{paystyle} 
			</if>
			<if test="createtime != null and createtime != ''"> 
			AND T.CREATETIME = #{createtime} 
			</if>
			<if test="operatorid != null and operatorid != ''"> 
			AND T.OPERATORID = #{operatorid} 
			</if>
			<if test="lastupdatetime != null and lastupdatetime != ''"> 
			AND T.LASTUPDATETIME = #{lastupdatetime} 
			</if>
			<if test="description != null and description != ''"> 
			AND T.DESCRIPTION = #{description} 
			</if>
			<if test="del != null and del != ''"> 
			AND T.DEL = #{del} 
			</if>
		</where>
	</sql>
	
	<!-- 查找语句 -->
	<select id="find" resultType="Payrecord" parameterType="Payrecord" flushCache="false" useCache="true">
    	SELECT 
	    	T.GUID AS guid, 
	    	T.PROJECTID AS projectid, 
	    	T.PAYDATE AS paydate, 
	    	T.AMOUNT AS amount, 
	    	T.PAYTYPE AS paytype, 
	    	T.PAYSTYLE AS paystyle, 
	    	T.CREATETIME AS createtime, 
	    	T.OPERATORID AS operatorid, 
	    	T.LASTUPDATETIME AS lastupdatetime, 
	    	T.DESCRIPTION AS description, 
	    	T.DEL AS del 
    	FROM payrecord T
		<include refid="WhereSQL" />  
		ORDER BY T.PAYDATE 
	</select>
	
	<!-- 获取总记录数语句 -->
	<select id="findCount" resultType="java.lang.Integer" parameterType="Payrecord" flushCache="false" useCache="true">
    	SELECT COUNT(*)  FROM payrecord T
		<include refid="WhereSQL" />
	</select>
	
	<!-- 插入语句 -->
	<insert id="insert" parameterType="Payrecord" flushCache="true"> 
		INSERT INTO payrecord
		(
			GUID, 
			PROJECTID, 
			PAYDATE, 
			AMOUNT, 
			PAYTYPE, 
			PAYSTYLE, 
			CREATETIME, 
			OPERATORID, 
			LASTUPDATETIME, 
			DESCRIPTION, 
			DEL 
		 ) 
		VALUES
		(
			#{guid,jdbcType=VARCHAR}, 
			#{projectid,jdbcType=VARCHAR}, 
			#{paydate,jdbcType=DATE}, 
			#{amount,jdbcType=DECIMAL}, 
			#{paytype,jdbcType=VARCHAR}, 
			#{paystyle,jdbcType=VARCHAR}, 
			#{createtime,jdbcType=TIMESTAMP}, 
			#{operatorid,jdbcType=VARCHAR}, 
			#{lastupdatetime,jdbcType=TIMESTAMP}, 
			#{description,jdbcType=VARCHAR}, 
			#{del,jdbcType=VARCHAR} 
		) 
	</insert>
	
	<!-- 更新语句 -->
	<update id="update"  parameterType="Payrecord" flushCache="true"> 
		update payrecord 
		<set> 
			<if test="guid != null">GUID=#{guid},</if>
			<if test="projectid != null">PROJECTID=#{projectid},</if>
			<if test="paydate != null">PAYDATE=#{paydate},</if>
			<if test="amount != null">AMOUNT=#{amount},</if>
			<if test="paytype != null">PAYTYPE=#{paytype},</if>
			<if test="paystyle != null">PAYSTYLE=#{paystyle},</if>
			<if test="createtime != null">CREATETIME=#{createtime},</if>
			<if test="operatorid != null">OPERATORID=#{operatorid},</if>
			<if test="lastupdatetime != null">LASTUPDATETIME=#{lastupdatetime},</if>
			<if test="description != null">DESCRIPTION=#{description},</if>
			<if test="del != null">DEL=#{del},</if>
		</set>
		WHERE GUID = #{guid}
	</update> 
	
	<!-- 单选删除语句 -->
	<delete id="delete" parameterType="Payrecord" flushCache="true"> 
		DELETE FROM payrecord WHERE GUID = #{guid}
	</delete>
	
	<!-- 多选删除 -->
	<delete id="mulDel" parameterType="java.lang.String" flushCache="true">
		DELETE FROM payrecord WHERE GUID IN
		<foreach item="id" collection="array" open="(" separator="," close=")"> 
			#{id}
		</foreach> 
	</delete>
</mapper>
