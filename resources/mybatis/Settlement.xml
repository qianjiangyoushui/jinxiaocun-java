<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Settlement">
	
	<!-- 缓存条数 -->
	<cache size="2000" />
	
	<!-- 条件语句 -->
	<sql id="WhereSQL">
		<where>
			<if test="guid != null and guid != ''"> 
			AND T.GUID = #{guid} 
			</if>
			<if test="startdate != null and startdate != ''"> 
			AND T.STARTDATE = #{startdate} 
			</if>
			<if test="enddate != null and enddate != ''"> 
			AND T.ENDDATE = #{enddate} 
			</if>
			<if test="createdate != null and createdate != ''"> 
			AND T.CREATEDATE = #{createdate} 
			</if>
			<if test="lastupdatetime != null and lastupdatetime != ''"> 
			AND T.LASTUPDATETIME = #{lastupdatetime} 
			</if>
			<if test="operateid != null and operateid != ''"> 
			AND T.OPERATEID = #{operateid} 
			</if>
			<if test="setmentamount != null and setmentamount != ''"> 
			AND T.SETMENTAMOUNT = #{setmentamount} 
			</if>
			<if test="money != null and money != ''"> 
			AND T.MONEY = #{money} 
			</if>
			<if test="projectid != null and projectid != ''"> 
			AND T.PROJECTID = #{projectid} 
			</if>
			<if test="del != null and del != ''"> 
			AND T.DEL = #{del} 
			</if>
		</where>
	</sql>
	
	<!-- 查找语句 -->
	<select id="find" resultType="Settlement" parameterType="Settlement" flushCache="false" useCache="true">
    	SELECT 
	    	T.GUID AS guid, 
	    	T.STARTDATE AS startdate, 
	    	T.ENDDATE AS enddate, 
	    	T.CREATEDATE AS createdate, 
	    	T.LASTUPDATETIME AS lastupdatetime, 
	    	T.OPERATEID AS operateid, 
	    	T.SETMENTAMOUNT AS setmentamount, 
	    	T.MONEY AS money, 
	    	T.PROJECTID AS projectid, 
	    	T.DEL AS del 
    	FROM settlement T
		<include refid="WhereSQL" />  
		ORDER BY T.CREATEDATE DESC  
	</select>
	
	<!-- 获取总记录数语句 -->
	<select id="findCount" resultType="java.lang.Integer" parameterType="Settlement" flushCache="false" useCache="true">
    	SELECT COUNT(*)  FROM settlement T
		<include refid="WhereSQL" />
	</select>
	
	<!-- 插入语句 -->
	<insert id="insert" parameterType="Settlement" flushCache="true"> 
		INSERT INTO settlement
		(
			GUID, 
			STARTDATE, 
			ENDDATE, 
			CREATEDATE, 
			LASTUPDATETIME, 
			OPERATEID, 
			SETMENTAMOUNT, 
			MONEY, 
			PROJECTID, 
			DEL 
		 ) 
		VALUES
		(
			#{guid,jdbcType=VARCHAR}, 
			#{startdate,jdbcType=TIMESTAMP}, 
			#{enddate,jdbcType=TIMESTAMP}, 
			#{createdate,jdbcType=TIMESTAMP}, 
			#{lastupdatetime,jdbcType=TIMESTAMP}, 
			#{operateid,jdbcType=VARCHAR}, 
			#{setmentamount,jdbcType=DECIMAL}, 
			#{money,jdbcType=DECIMAL}, 
			#{projectid,jdbcType=VARCHAR}, 
			#{del,jdbcType=VARCHAR} 
		) 
	</insert>
	
	<!-- 更新语句 -->
	<update id="update"  parameterType="Settlement" flushCache="true"> 
		update settlement 
		<set> 
			<if test="guid != null">GUID=#{guid},</if>
			<if test="startdate != null">STARTDATE=#{startdate},</if>
			<if test="enddate != null">ENDDATE=#{enddate},</if>
			<if test="createdate != null">CREATEDATE=#{createdate},</if>
			<if test="lastupdatetime != null">LASTUPDATETIME=#{lastupdatetime},</if>
			<if test="operateid != null">OPERATEID=#{operateid},</if>
			<if test="setmentamount != null">SETMENTAMOUNT=#{setmentamount},</if>
			<if test="money != null">MONEY=#{money},</if>
			<if test="projectid != null">PROJECTID=#{projectid},</if>
			<if test="del != null">DEL=#{del},</if>
		</set>
		WHERE GUID = #{guid}
	</update> 
	
	<!-- 单选删除语句 -->
	<delete id="delete" parameterType="Settlement" flushCache="true"> 
		DELETE FROM settlement WHERE GUID = #{guid}
	</delete>
	
	<!-- 多选删除 -->
	<delete id="mulDel" parameterType="java.lang.String" flushCache="true">
		DELETE FROM settlement WHERE GUID IN
		<foreach item="id" collection="array" open="(" separator="," close=")"> 
			#{id}
		</foreach> 
	</delete>
</mapper>
