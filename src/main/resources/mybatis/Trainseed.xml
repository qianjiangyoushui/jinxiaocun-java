<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Trainseed">

    <!-- 缓存条数 -->
    <cache size="2000" />

    <!-- 条件语句 -->
    <sql id="WhereSQL">
        <where>
            <if test="guid != null and guid != ''">
                AND T.GUID = #{guid}
            </if>
            <if test="code != null and code != ''">
                AND T.CODE = #{code}
            </if>
            <if test="name != null and name != ''">
                AND T.NAME = #{name}
            </if>
            <if test="selecttype != null and selecttype != ''">
                AND T.SELECTTYPE = #{selecttype}
            </if>
            <if test="combo != null and combo != ''">
                AND T.COMBO = #{combo}
            </if>
            <if test="feture != null and feture != ''">
                AND T.FETURE = #{feture}
            </if>
            <if test="icon != null and icon != ''">
                AND T.ICON = #{icon}
            </if>
            <if test="variety != null and variety != ''">
                AND T.VARIETY = #{variety}
            </if>
            <if test="companyguid != null and companyguid != ''">
                AND T.COMPANYGUID = #{companyguid}
            </if>
            <if test="createdate != null and createdate != ''">
                AND T.CREATEDATE = #{createdate}
            </if>
            <if test="updatedate != null and updatedate != ''">
                AND T.UPDATEDATE = #{updatedate}
            </if>
            <if test="userguid != null and userguid != ''">
                AND T.USERGUID = #{userguid}
            </if>
            <if test="remark != null and remark != ''">
                AND T.REMARK = #{remark}
            </if>
        </where>
    </sql>

    <!-- 查找语句 -->
    <select id="find" resultType="Trainseed" parameterType="Trainseed" flushCache="false" useCache="true">
        SELECT
        T.GUID AS guid,
        T.CODE AS code,
        T.NAME AS name,
        T.SELECTTYPE AS selecttype,
        T.COMBO AS combo,
        T.FETURE AS feture,
        T.ICON AS icon,
        T.VARIETY AS variety,
        T.COMPANYGUID AS companyguid,
        T.CREATEDATE AS createdate,
        T.UPDATEDATE AS updatedate,
        T.USERGUID AS userguid,
        T.REMARK AS remark
        FROM trainseed T
        <include refid="WhereSQL" />
        ORDER BY SORT
    </select>

    <!-- 获取总记录数语句 -->
    <select id="findCount" resultType="java.lang.Integer" parameterType="Trainseed" flushCache="false" useCache="true">
        SELECT COUNT(*)  FROM trainseed T
        <include refid="WhereSQL" />
    </select>

    <!-- 插入语句 -->
    <insert id="insert" parameterType="Trainseed" flushCache="true">
        INSERT INTO trainseed
        (
        GUID,
        CODE,
        NAME,
        SELECTTYPE,
        COMBO,
        FETURE,
        ICON,
        VARIETY,
        COMPANYGUID,
        CREATEDATE,
        UPDATEDATE,
        USERGUID,
        REMARK
        )
        VALUES
        (
        #{guid,jdbcType=VARCHAR},
        #{code,jdbcType=VARCHAR},
        #{name,jdbcType=VARCHAR},
        #{selecttype,jdbcType=VARCHAR},
        #{combo,jdbcType=VARCHAR},
        #{feture,jdbcType=VARCHAR},
        #{icon,jdbcType=VARCHAR},
        #{variety,jdbcType=VARCHAR},
        #{companyguid,jdbcType=VARCHAR},
        #{createdate,jdbcType=DATE},
        #{updatedate,jdbcType=DATE},
        #{userguid,jdbcType=VARCHAR},
        #{remark,jdbcType=VARCHAR}
        )
    </insert>

    <!-- 更新语句 -->
    <update id="update"  parameterType="Trainseed" flushCache="true">
        update trainseed
        <set>
            <if test="guid != null">GUID=#{guid},</if>
            <if test="code != null">CODE=#{code},</if>
            <if test="name != null">NAME=#{name},</if>
            <if test="selecttype != null">SELECTTYPE=#{selecttype},</if>
            <if test="combo != null">COMBO=#{combo},</if>
            <if test="feture != null">FETURE=#{feture},</if>
            <if test="icon != null">ICON=#{icon},</if>
            <if test="variety != null">VARIETY=#{variety},</if>
            <if test="companyguid != null">COMPANYGUID=#{companyguid},</if>
            <if test="createdate != null">CREATEDATE=#{createdate},</if>
            <if test="updatedate != null">UPDATEDATE=#{updatedate},</if>
            <if test="userguid != null">USERGUID=#{userguid},</if>
            <if test="remark != null">REMARK=#{remark},</if>
        </set>
        WHERE GUID = #{guid}
    </update>

    <!-- 单选删除语句 -->
    <delete id="delete" parameterType="Trainseed" flushCache="true">
        DELETE FROM trainseed WHERE GUID = #{guid}
    </delete>

    <!-- 多选删除 -->
    <delete id="mulDel" parameterType="java.lang.String" flushCache="true">
        DELETE FROM trainseed WHERE GUID IN
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>
