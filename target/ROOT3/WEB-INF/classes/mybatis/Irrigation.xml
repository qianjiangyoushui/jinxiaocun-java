<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Irrigation">
	
	<!-- 缓存条数 -->
	<cache size="2000" />
	
	<!-- 条件语句 -->
	<sql id="WhereSQL">
		<where>
			<if test="guid != null and guid != ''"> 
			AND T.GUID = #{guid} 
			</if>
			<if test="seedfileid != null and seedfileid != ''"> 
			AND T.SEEDFILEID = #{seedfileid} 
			</if>
			<if test="irrigatedate != null and irrigatedate != ''"> 
			AND T.IRRIGATEDATE = #{irrigatedate} 
			</if>
			<if test="irrigatestyle != null and irrigatestyle != ''"> 
			AND T.IRRIGATESTYLE = #{irrigatestyle} 
			</if>
			<if test="irrigatewater != null and irrigatewater != ''"> 
			AND T.IRRIGATEWATER = #{irrigatewater} 
			</if>
			<if test="speed != null and speed != ''"> 
			AND T.SPEED = #{speed} 
			</if>
			<if test="rainfall != null and rainfall != ''"> 
			AND T.RAINFALL = #{rainfall} 
			</if>
			<if test="humidity != null and humidity != ''"> 
			AND T.HUMIDITY = #{humidity} 
			</if>
			<if test="remark != null and remark != ''"> 
			AND T.REMARK = #{remark} 
			</if>
			<if test="recordperson != null and recordperson != ''"> 
			AND T.RECORDPERSON = #{recordperson} 
			</if>
			<if test="principal != null and principal != ''"> 
			AND T.PRINCIPAL = #{principal} 
			</if>
			<if test="createdate != null and createdate != ''"> 
			AND T.CREATEDATE = #{createdate} 
			</if>
			<if test="operatorid != null and operatorid != ''"> 
			AND T.OPERATORID = #{operatorid} 
			</if>
		</where>
	</sql>
	
	<!-- 查找语句 -->
	<select id="find" resultType="Irrigation" parameterType="Irrigation" flushCache="false" useCache="true">
    	SELECT 
	    	T.GUID AS guid, 
	    	T.SEEDFILEID AS seedfileid, 
	    	T.IRRIGATEDATE AS irrigatedate, 
	    	T.IRRIGATESTYLE AS irrigatestyle, 
	    	T.IRRIGATEWATER AS irrigatewater, 
	    	T.SPEED AS speed, 
	    	T.RAINFALL AS rainfall, 
	    	T.HUMIDITY AS humidity, 
	    	T.REMARK AS remark, 
	    	T.RECORDPERSON AS recordperson, 
	    	T.PRINCIPAL AS principal, 
	    	T.CREATEDATE AS createdate, 
	    	T.OPERATORID AS operatorid 
    	FROM irrigation T
		<include refid="WhereSQL" />
		ORDER BY T.CREATEDATE desc
	</select>
	
	<!-- 获取总记录数语句 -->
	<select id="findCount" resultType="java.lang.Integer" parameterType="Irrigation" flushCache="false" useCache="true">
    	SELECT COUNT(*)  FROM irrigation T
		<include refid="WhereSQL" />
	</select>
	
	<!-- 插入语句 -->
	<insert id="insert" parameterType="Irrigation" flushCache="true"> 
		INSERT INTO irrigation
		(
			GUID, 
			SEEDFILEID, 
			IRRIGATEDATE, 
			IRRIGATESTYLE, 
			IRRIGATEWATER, 
			SPEED, 
			RAINFALL, 
			HUMIDITY, 
			REMARK, 
			RECORDPERSON, 
			PRINCIPAL, 
			CREATEDATE, 
			OPERATORID 
		 ) 
		VALUES
		(
			#{guid,jdbcType=VARCHAR}, 
			#{seedfileid,jdbcType=VARCHAR}, 
			#{irrigatedate,jdbcType=DATE}, 
			#{irrigatestyle,jdbcType=VARCHAR}, 
			#{irrigatewater,jdbcType=DECIMAL}, 
			#{speed,jdbcType=DECIMAL}, 
			#{rainfall,jdbcType=DECIMAL}, 
			#{humidity,jdbcType=DECIMAL}, 
			#{remark,jdbcType=VARCHAR}, 
			#{recordperson,jdbcType=VARCHAR}, 
			#{principal,jdbcType=VARCHAR}, 
			#{createdate,jdbcType=DATE}, 
			#{operatorid,jdbcType=VARCHAR} 
		) 
	</insert>
	
	<!-- 更新语句 -->
	<update id="update"  parameterType="Irrigation" flushCache="true"> 
		update irrigation 
		<set> 
			<if test="guid != null">GUID=#{guid},</if>
			<if test="seedfileid != null">SEEDFILEID=#{seedfileid},</if>
			<if test="irrigatedate != null">IRRIGATEDATE=#{irrigatedate},</if>
			<if test="irrigatestyle != null">IRRIGATESTYLE=#{irrigatestyle},</if>
			<if test="irrigatewater != null">IRRIGATEWATER=#{irrigatewater},</if>
			<if test="speed != null">SPEED=#{speed},</if>
			<if test="rainfall != null">RAINFALL=#{rainfall},</if>
			<if test="humidity != null">HUMIDITY=#{humidity},</if>
			<if test="remark != null">REMARK=#{remark},</if>
			<if test="recordperson != null">RECORDPERSON=#{recordperson},</if>
			<if test="principal != null">PRINCIPAL=#{principal},</if>
			<if test="createdate != null">CREATEDATE=#{createdate},</if>
			<if test="operatorid != null">OPERATORID=#{operatorid},</if>
		</set>
		WHERE GUID = #{guid}
	</update> 
	
	<!-- 单选删除语句 -->
	<delete id="delete" parameterType="Irrigation" flushCache="true"> 
		DELETE FROM irrigation WHERE GUID = #{guid}
	</delete>
	
	<!-- 多选删除 -->
	<delete id="mulDel" parameterType="java.lang.String" flushCache="true">
		DELETE FROM irrigation WHERE GUID IN
		<foreach item="id" collection="array" open="(" separator="," close=")"> 
			#{id}
		</foreach> 
	</delete>
</mapper>
